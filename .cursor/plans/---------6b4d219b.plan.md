<!-- 6b4d219b-d304-41d7-8f19-3a00bb4edef9 b5dcbe0d-5fbf-407d-936b-a13f6b8d1063 -->
# Tocik v4.0 全新界面设计方案

## 设计理念

打造一个**智能驱动、游戏化、个性化**的现代界面，让v4.0的核心特性（AI分析、成就系统、智能建议）成为用户体验的中心。

---

## 新界面架构

### iPad界面（全新三栏布局）

```
┌─────────────┬──────────────────────┬─────────────────┐
│  侧边栏     │    主内容区          │   智能面板      │
│             │                      │                 │
│  • 仪表盘   │   ┌──────────────┐   │  AI助手        │
│  • 核心功能 │   │              │   │  今日建议      │
│  • 学习工具 │   │   功能界面   │   │  成就进度      │
│  • 智能功能 │   │              │   │  快捷操作      │
│  • 更多...  │   └──────────────┘   │  数据洞察      │
│             │                      │                 │
└─────────────┴──────────────────────┴─────────────────┘
```

### iPhone界面（智能首页 + TabBar）

```
┌─────────────────────────┐
│    智能首页仪表盘        │
│  ┌───────────────────┐  │
│  │  成就 | 等级 | AI │  │
│  └───────────────────┘  │
│                         │
│  ┌─── 今日概览 ────┐   │
│  │ 番茄钟 待办 习惯 │   │
│  └──────────────────┘   │
│                         │
│  ┌─── 智能建议 ────┐   │
│  │ 3条个性化建议    │   │
│  └──────────────────┘   │
│                         │
│  • 核心功能（6个）      │
│  • 学习工具（5个）      │
│  • 智能功能（4个）      │
│  • 更多工具...          │
└─────────────────────────┘
  ↓ TabBar ↓
[仪表盘][学习][工具][我的]
```

---

## 核心组件设计

### 1. 智能仪表盘（DashboardView）- 全新首页

**功能**：
- 用户等级和积分展示
- 今日学习概览（番茄钟、待办、习惯）
- AI智能建议卡片（3-5条）
- 成就进度提示
- 快捷操作按钮
- 学习趋势微型图表

### 2. 智能侧边面板（IntelligentSidePanel）- iPad专属

**功能**：
- 实时AI分析
- 今日待办快速查看
- 成就通知
- 智能提醒
- 快捷操作

### 3. 功能发现中心（DiscoverView）

**功能**：
- 按智能推荐排序的功能卡片
- 最近使用
- 收藏功能
- 功能搜索

### 4. 个人中心（ProfileView）

**功能**：
- 用户等级系统
- 成就墙
- 学习统计
- 个性化设置
- 数据管理

---

## 详细实施计划

### 阶段一：核心布局重构

#### 1.1 创建智能仪表盘（DashboardView）
- 顶部：用户卡片（等级、积分、头像）
- 今日概览卡片（番茄钟、待办、习惯统计）
- AI建议卡片（显示3条智能建议）
- 快捷功能入口（常用6个功能）
- 成就进度条（接近解锁的成就）
- 学习趋势图（7天趋势）

#### 1.2 重构ContentView
- iPad：NavigationSplitView三栏布局
  - 左：增强的侧边栏（添加智能功能分类）
  - 中：主内容区
  - 右：智能面板（可折叠）
- iPhone：TabView四栏
  - 仪表盘、学习、工具、我的

#### 1.3 创建智能侧边面板（iPad）
- AI实时分析
- 今日任务快览
- 成就通知
- 快捷操作栏

### 阶段二：智能功能入口

#### 2.1 在侧边栏添加智能分类
- "智能功能" Section：
  - AI助手
  - 成就系统
  - 学习路径
  - 个人成长
  - 全局搜索
  - 趋势预测

#### 2.2 创建功能发现页面
- 推荐功能（基于使用频率）
- 最近使用
- 收藏功能
- 全功能网格

#### 2.3 智能快捷操作
- 浮动操作按钮（FAB）
  - 快速添加待办
  - 开始番茄钟
  - 快速笔记
  - AI建议

### 阶段三：个人中心重设计

#### 3.1 个人主页（ProfileView）
- 大头像 + 用户名
- 等级进度环（Apple Watch风格）
- 4个关键数据（番茄钟、待办、连续天数、成就）
- 成就墙（最近解锁）
- 学习数据卡片
- 设置入口

#### 3.2 成就墙优化
- 3D卡片翻转效果
- 分类筛选增强
- 进度动画
- 解锁庆祝动画

### 阶段四：首页小部件（Widget Cards）

#### 4.1 创建可配置的小部件卡片
- 番茄钟状态卡
- 今日待办卡
- 习惯打卡卡
- AI建议卡
- 成就进度卡
- 学习趋势卡

#### 4.2 小部件管理
- 用户可选择显示哪些卡片
- 拖拽调整顺序
- 自定义卡片样式

### 阶段五：导航优化

#### 5.1 顶部导航栏增强
- 全局搜索（常驻）
- 通知中心（智能建议）
- 快捷操作菜单
- 主题切换快捷键

#### 5.2 底部TabBar重设计（iPhone）
- 仪表盘（智能首页）
- 学习（学习工具集合）
- 工具（实用工具）
- 我的（个人中心）

### 阶段六：视觉设计升级

#### 6.1 新增设计元素
- 毛玻璃效果增强
- 卡片阴影优化
- 渐变动画
- 微交互动效

#### 6.2 深色模式优化
- 深色模式专属配色
- 对比度优化
- 发光效果

### 阶段七：智能功能集成

#### 7.1 AI助手常驻入口
- 右上角AI图标
- 实时显示建议数量
- 点击弹出AI面板

#### 7.2 成就系统集成
- 顶部显示等级和积分
- 成就解锁动画
- 进度提示

#### 7.3 全局搜索集成
- 顶部搜索栏
- 快捷键⌘+F
- 智能搜索建议

---

## 新增视图文件清单

### 核心界面（6个）
1. DashboardView.swift - 智能仪表盘
2. IntelligentSidePanelView.swift - 智能侧边面板（iPad）
3. DiscoverView.swift - 功能发现中心
4. ProfileView.swift - 个人中心
5. EnhancedContentView.swift - 重构的主视图
6. ModernTabBarView.swift - 现代化TabBar

### 小部件卡片（6个）
7. PomodoroWidgetCard.swift
8. TodoWidgetCard.swift
9. HabitWidgetCard.swift
10. AIWidgetCard.swift
11. AchievementWidgetCard.swift
12. TrendWidgetCard.swift

### 导航组件（3个）
13. SmartNavigationBar.swift
14. FloatingActionButton.swift
15. QuickActionsMenu.swift

### 视觉组件（4个）
16. AnimatedGradientBackground.swift
17. ParticleEffectView.swift
18. UnlockCelebrationView.swift
19. LoadingSkeletonView.swift

---

## 设计特色

### 1. 智能优先
- AI建议在首页显著位置
- 智能分析一键可达
- 个性化推荐功能

### 2. 游戏化体验
- 等级系统始终可见
- 成就解锁动画
- 进度可视化

### 3. 快速访问
- 常用功能快捷入口
- 浮动操作按钮
- 手势快捷操作

### 4. 数据驱动
- 实时数据展示
- 趋势图表
- 智能洞察

### 5. 极简美学
- 大量留白
- 卡片式设计
- 流畅动画

---

## 实施顺序

1. 创建DashboardView（智能首页）
2. 创建ProfileView（个人中心）
3. 重构ContentView（新布局）
4. 创建智能侧边面板（iPad）
5. 创建小部件卡片
6. 优化导航组件
7. 添加视觉效果
8. 集成所有v4.0功能
9. 测试和优化

预计新增代码：约5,000行
预计新增文件：约20个


### To-dos

- [ ] 创建智能仪表盘DashboardView（用户等级、今日概览、AI建议、成就进度）
- [ ] 创建个人中心ProfileView（等级系统、成就墙、统计数据、设置）
- [ ] 重构ContentView和HomeView（新三栏布局iPad、新TabBar iPhone）
- [ ] 创建智能侧边面板IntelligentSidePanelView（iPad专属，AI分析、快捷任务）
- [ ] 创建6个小部件卡片（番茄钟、待办、习惯、AI、成就、趋势）
- [ ] 创建导航组件（SmartNavigationBar、FloatingActionButton、QuickActionsMenu）
- [ ] 添加视觉效果组件（动画背景、粒子效果、解锁庆祝、骨架屏）
- [ ] 将所有v4.0新功能集成到新界面（AI助手、成就、搜索、报告等）
- [ ] 测试新界面在iPad和iPhone上的表现